# =======================
# 基础配置
# =======================
ENVIRONMENT=development
DEBUG=true
PROJECT_NAME="AI Meal Coach"
VERSION=0.1.0
API_V1_STR="/api/v1"

# =======================
# 数据库配置
# =======================
# PostgreSQL 配置
POSTGRES_DB=aire_db
POSTGRES_USER=aire_user
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Redis 配置
REDIS_PASSWORD=your_secure_redis_password_here

# 完整数据库连接字符串（自动生成，通常不需要手动设置）
DATABASE_URL=postgresql://aire_user:aire_password@localhost:5432/aire_db
DATABASE_TEST_URL=postgresql://aire_user:aire_password@localhost:5432/aire_test_db
REDIS_URL=redis://:aire_redis_password@localhost:6379/0
REDIS_TEST_URL=redis://:aire_redis_password@localhost:6379/1

# =======================
# AI 服务配置
# =======================
# Google Gemini API
GOOGLE_API_KEY=your_google_api_key_here

# OpenAI API (备选)
OPENAI_API_KEY=your_openai_api_key_here

# 默认AI API密钥（用于向量生成，优先使用此配置）
DEFAULT_AI_API_KEY=your_default_ai_api_key_here

# 向量数据库配置
VECTOR_DB_TYPE=faiss  # faiss, pinecone, weaviate
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=your_pinecone_environment

# Weaviate 配置
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_api_key_here

# =======================
# 安全配置
# =======================
JWT_SECRET_KEY=your_super_secret_jwt_key_here_change_in_production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# 密码哈希盐值
PASSWORD_SALT=your_password_salt_here

# =======================
# 文件存储配置
# =======================
UPLOAD_DIR=./data/uploads
EMBEDDINGS_DIR=./data/embeddings
MAX_UPLOAD_SIZE=10485760  # 10MB

# AWS S3 配置（可选）
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=your_s3_bucket_name
AWS_REGION=us-east-1

# =======================
# 缓存配置
# =======================
CACHE_TTL=3600  # 1 hour
EMBEDDING_CACHE_TTL=86400  # 24 hours

# =======================
# 限流配置
# =======================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =======================
# 日志配置
# =======================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# =======================
# 监控配置
# =======================
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry 错误监控（可选）
SENTRY_DSN=your_sentry_dsn_here

# =======================
# 邮件配置
# =======================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAILS_FROM_EMAIL=noreply@aimealcoach.com

# =======================
# Celery 配置
# =======================
CELERY_BROKER_URL=redis://:aire_redis_password@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:aire_redis_password@localhost:6379/0

# =======================
# 开发配置
# =======================
RELOAD=true
WORKERS=1

# =======================
# 生产配置
# =======================
# ENVIRONMENT=production
# DEBUG=false
# WORKERS=4
# RELOAD=false